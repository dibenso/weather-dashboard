(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{39:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(14),i=c.n(r),o=(c(38),c(39),c(25)),s=c.n(o),j=c(27),l=c(9),b=c(66),h=c(28),d=c.n(h),u=c(10),O=c(20),x=c(68),p=c(69),g=c(67),m=c(70),y=c(71),f=c(32),w=c(29),v=c.n(w),S=c(11),k=c(4);function C(e){var t=e.setLocation,c=Object(n.useState)(null),a=Object(l.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(null),s=Object(l.a)(o,2),j=s[0],b=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),w=d[0],C=d[1],I=Object(n.useState)(JSON.parse(localStorage.getItem("history"))),D=Object(l.a)(I,2),F=D[0],P=D[1],B=function(e){e&&fetch("/api/autocomplete/".concat(e)).then((function(e){return e.json()})).then((function(e){e&&i(e)}))},L=v()(B,400),J=function(e){var t=e.target.value;b(t),L(t)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(f.a,{onChange:function(e){var c=F?Object(O.a)(new Set([e].concat(Object(O.a)(F)))):Object(O.a)(new Set([e]));localStorage.setItem("location",JSON.stringify(e)),localStorage.setItem("history",JSON.stringify(c)),t(e),P(c),B(e)},itemToString:function(e){return e?"".concat(e.city,", ").concat(e.state_name):""},children:function(e){var t=e.getInputProps,c=e.getItemProps,n=e.getLabelProps,a=e.getMenuProps,i=e.isOpen,o=e.highlightedIndex,s=e.selectedItem,l=e.getRootProps;return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",Object(u.a)(Object(u.a)({style:{display:"inline-block"}},l({},{suppressRefError:!0})),{},{children:Object(k.jsx)(x.a,{children:Object(k.jsxs)(x.a.Group,{children:[Object(k.jsx)(x.a.Label,Object(u.a)(Object(u.a)({},n()),{},{children:"City"})),Object(k.jsx)(x.a.Control,Object(u.a)({},t({onChange:J,onKeyDown:function(e){"Enter"===e.code&&e.preventDefault()},input:j,placeholder:"Enter city"})))]})})})),Object(k.jsx)(p.a,Object(u.a)(Object(u.a)({},a()),{},{children:i&&r?r.map((function(e,t){return Object(k.jsx)(p.a.Item,Object(u.a)(Object(u.a)({},c({key:String(t),index:t,item:e,style:{backgroundColor:o===t?"lightgray":"white",fontWeight:s===e?"bold":"normal"}})),{},{children:"".concat(e.city,", ").concat(e.state_name)}))})):null}))]})}}),F&&Object(k.jsx)(g.a,{style:{maxWidth:500,margin:"0 auto",boxShadow:"5px 5px 15px 5px #000000",marginBottom:20},children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(m.a.Header,{children:Object(k.jsxs)(g.a.Toggle,{as:y.a,variant:"link",eventKey:"0",onClick:function(){return C(!w)},style:{textDecoration:"none"},children:[w?Object(k.jsx)(S.a,{size:30,color:"black"}):Object(k.jsx)(S.b,{size:30,color:"black"})," Recent Searches"]})}),Object(k.jsx)(g.a.Collapse,{eventKey:"0",children:Object(k.jsx)(m.a.Body,{children:F.map((function(e,c){return Object(k.jsx)("p",{style:{cursor:"pointer"},onClick:function(){return t(e)},children:"".concat(e.city,", ").concat(e.state_name)},String(c))}))})})]})})]})}var I=c(18),D=c.n(I);function F(e){var t,c=e.weather;return Object(k.jsxs)(m.a,{style:{width:"15rem",backgroundColor:"rgba(0, 0, 0, 0.3)",margin:"0 auto",marginBottom:50,boxShadow:"5px 5px 15px 5px #000000"},children:[Object(k.jsx)(m.a.Img,{variant:"top",src:"http://openweathermap.org/img/wn/".concat(c.current.weather[0].icon,"@2x.png")}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:c.current.weather[0].description}),Object(k.jsxs)("h2",{children:[Object(k.jsx)(S.c,{size:30,color:"black"})," ".concat(Math.round(c.current.temp),"\xb0")]}),Object(k.jsx)("br",{}),"Humidity: ".concat(c.current.humidity,"%"),Object(k.jsx)("br",{}),Object(k.jsx)(S.d,{size:20,color:"black"})," ".concat(c.current.wind_speed," MPH"),Object(k.jsx)("br",{}),"UV Index: ".concat(c.current.uvi),Object(k.jsx)("div",{style:{display:"inline-block",height:15,width:15,backgroundColor:(t=c.current.uvi,t<=3?"rgba(0, 120, 6, 0.6)":t<=6?"rgba(208, 119, 0, 0.6)":"rgba(208, 0, 0, 0.6)"),marginLeft:10}})]})]})}function P(e){var t=e.weather,c=new Date;return Object(k.jsx)("div",{children:t.daily.slice(0,5).map((function(e,t){return Object(k.jsxs)(m.a,{style:{width:"15rem",backgroundColor:"rgba(0, 0, 0, 0.3)",margin:"0 auto",marginBottom:20,boxShadow:"5px 5px 15px 5px #000000",display:"inline-block"},children:[Object(k.jsx)(m.a.Img,{variant:"top",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:D()(new Date(c.getFullYear(),c.getMonth(),c.getDate()+t),"dddd, mmmm dS, yyyy")}),Object(k.jsx)("p",{children:e.weather[0].description}),Object(k.jsxs)("h2",{children:[Object(k.jsx)(S.c,{size:30,color:"black"})," ".concat(Math.round(e.temp.day),"\xb0")]}),Object(k.jsx)("br",{}),"Humidity: ".concat(e.humidity,"%")]})]},String(t))}))})}function B(e){var t=e.weather,c=e.location;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:c.city}),Object(k.jsx)("p",{children:D()(new Date,"dddd, mmmm dS, yyyy")}),Object(k.jsx)(F,{weather:t}),Object(k.jsx)(P,{weather:t})]})}var L=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("location"))),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),i=Object(l.a)(r,2),o=i[0],h=i[1],u=Object(n.useState)(!1),O=Object(l.a)(u,2),x=O[0],p=O[1],g=Object(n.useState)(null),m=Object(l.a)(g,2),y=m[0],f=m[1];return Object(n.useEffect)(Object(j.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=20;break}return e.prev=1,p(!0),t=c.lat,n=c.lng,e.next=6,fetch("/api/weather/".concat(t,"/").concat(n));case 6:return a=e.sent,p(!1),e.t0=h,e.next=11,a.json();case 11:e.t1=e.sent,(0,e.t0)(e.t1),f(null),e.next=20;break;case 16:e.prev=16,e.t2=e.catch(1),p(!1),f("Unable to retrieve weather data");case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),[c]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(b.a,{fluid:!0,style:{textAlign:"center"},children:[Object(k.jsx)("h1",{className:"display-3",children:"Weather Dashboard"}),y&&y,Object(k.jsx)(C,{setLocation:a}),x&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.a,{type:"Puff",color:"black",height:100,width:100}),Object(k.jsx)("h2",{children:"Retrieving Weather Data..."})]}),o&&Object(k.jsx)(B,{weather:o,location:c})]})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,72)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(L,{})}),document.getElementById("root")),J()}},[[64,1,2]]]);
//# sourceMappingURL=main.38816737.chunk.js.map